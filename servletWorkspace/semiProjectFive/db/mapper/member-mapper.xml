<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="MemberMapper">
	
	<insert id="join">
	INSERT INTO MEMBER
		(
		NO
		,ID
		,PWD
		,NICK
		,NAME
		,PHONE
		,EMAIL
		)
	VALUES(
	SEQ_MEMBER.NEXTVAL
	,#{id}
	,#{pwd}
	,#{nick}
	,#{name}
	,#{phone}
	,#{email}
	
	)
	</insert>
	
	<select id="login" resultType="com.kh.app.member.vo.MemberVo">
	
	SELECT * FROM MEMBER 
	WHERE ID = #{id} 
	AND PWD = #{pwd} 
	AND QUIT_YN = 'N'


	</select>
	
	<update id="edit">
	UPDATE MEMBER 
	SET 
		PWD = #{pwd}
	 	NICK = #{nick}
	 	PHONE = #{phone}
	 	EMAIL = #{email}
	WHERE NO = #{no}
	
	
		
	
	</update>
	
	
	<select id="checkIdDup" resultType="int"> 
	
	SELECT COUNT(*) 
	FROM MEMBER 
	WHERE ID = #{id} 
	
	</select>
	
	
	
	
	<update id="quit">
	UPDATE MEMBER 
	SET 
		DEL_YN = 'Y'
	WHERE NO = #{no}
	AND DEL_YN = 'N'
	
		
	
	</update>


</mapper>